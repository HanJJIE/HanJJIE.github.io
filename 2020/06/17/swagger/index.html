<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="黄汉杰 1432345840@qq.com"><title>Swagger 学习 · 汉杰杰呢</title><meta name="description" content="一、搭建项目1. 创建 SpringBoot 工程
原构建器 Connect time out，使用了阿里的构建器 https://start.aliyun.com

​        这里勾选了：热部署、配置文件提示、Lombok 和 Spring Web 启动器

2. 引入 Swagger 依"><meta name="keywords" content="博客"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">汉杰杰呢</a></h3><div class="description"><p>保持独立思考，不卑、不亢、不怂，长成自己想要的样子</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/2529076670/profile?topnav=1&amp;wvr=6&amp;is_all=1" target="_blank" rel="noopener"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/HanJJIE" target="_blank" rel="noopener"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me" target="_blank" rel="noopener"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole" target="_blank" rel="noopener"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/java.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Swagger 学习</a></h3></div><div class="post-content"><h2 id="一、搭建项目"><a href="#一、搭建项目" class="headerlink" title="一、搭建项目"></a>一、搭建项目</h2><h3 id="1-创建-SpringBoot-工程"><a href="#1-创建-SpringBoot-工程" class="headerlink" title="1. 创建 SpringBoot 工程"></a>1. 创建 SpringBoot 工程</h3><blockquote>
<p>原构建器 Connect time out，使用了阿里的构建器 <a href="https://start.aliyun.com" target="_blank" rel="noopener">https://start.aliyun.com</a></p>
</blockquote>
<p>​        这里勾选了：热部署、配置文件提示、Lombok 和 Spring Web 启动器</p>
<p><img src="/images/swagger/image-20200614141059107.png" alt="image-20200614141059107"></p>
<h3 id="2-引入-Swagger-依赖"><a href="#2-引入-Swagger-依赖" class="headerlink" title="2. 引入 Swagger 依赖"></a>2. 引入 Swagger 依赖</h3><blockquote>
<p>Swagger2 地址：<a href="https://mvnrepository.com/artifact/io.springfox/springfox-swagger2" target="_blank" rel="noopener">https://mvnrepository.com/artifact/io.springfox/springfox-swagger2</a></p>
<p>Swagger UI 地址：<a href="https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui" target="_blank" rel="noopener">https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui</a></p>
</blockquote>
<p>​        在 <code>.pom</code> 中添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="3-添加-Swagger-配置类"><a href="#3-添加-Swagger-配置类" class="headerlink" title="3. 添加 Swagger 配置类"></a>3. 添加 Swagger 配置类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Swagger 配置类</span></span><br><span class="line"><span class="comment"> * 使用 <span class="doctag">@EnableSwagger</span>2 启动 Swagger</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-编写实体类和接口"><a href="#4-编写实体类和接口" class="headerlink" title="4. 编写实体类和接口"></a>4. 编写实体类和接口</h3><h4 id="①-实体类"><a href="#①-实体类" class="headerlink" title="① 实体类"></a>① 实体类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="②-接口"><a href="#②-接口" class="headerlink" title="② 接口"></a>② 接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> List&lt;Phone&gt; phones = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Phone <span class="title">getPhoneById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Phone phone : phones) &#123;</span><br><span class="line">            <span class="keyword">if</span> (phone.getId().equals(id)) <span class="keyword">return</span> phone;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Phone phone : phones) &#123;</span><br><span class="line">            <span class="keyword">if</span> (phone.getId().equals(id)) &#123;</span><br><span class="line">                phones.remove(phone);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &lt;= <span class="number">14</span>; i++) &#123;</span><br><span class="line">            phones.add(<span class="keyword">new</span> Phone(i, <span class="string">"iPhone"</span> + i, i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取所有手机信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Phone&gt; <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> phones;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据 ID 获取手机信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/phone/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">get</span><span class="params">(@PathVariable(name = <span class="string">"id"</span>)</span> Integer id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getPhoneById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加手机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">create</span><span class="params">(@RequestBody Phone phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            phones.add(phone);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据 ID 删除手机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/phone/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">delete</span><span class="params">(@PathVariable(name = <span class="string">"id"</span>)</span> Integer id) </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            deleteById(id);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 修改手机信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(@RequestBody Phone phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            deleteById(phone.getId());</span><br><span class="line">            phones.add(phone);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="5-访问-Swagger-UI-测试"><a href="#5-访问-Swagger-UI-测试" class="headerlink" title="5. 访问 Swagger UI 测试"></a>5. 访问 Swagger UI 测试</h3><blockquote>
<p>地址：<a href="http://localhost:8080/swagger-ui.html" target="_blank" rel="noopener">http://localhost:8080/swagger-ui.html</a></p>
</blockquote>
<p>​        从上到下依次是：选择分组、基础信息、接口、实体类</p>
<p><img src="/images/swagger/image-20200614155040200.png" alt="image-20200614155040200"></p>
<h2 id="二、配置-Swagger"><a href="#二、配置-Swagger" class="headerlink" title="二、配置 Swagger"></a>二、配置 Swagger</h2><h3 id="1-配置基础信息"><a href="#1-配置基础信息" class="headerlink" title="1. 配置基础信息"></a>1. 配置基础信息</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Swagger 配置类</span></span><br><span class="line"><span class="comment"> * 使用 <span class="doctag">@EnableSwagger</span>2 启动 Swagger</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 标题、版本号、作者信息等</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Contact contact = <span class="keyword">new</span> Contact(<span class="string">"黄汉杰"</span>, <span class="string">"https://hanjjie.github.io/"</span>, <span class="string">"1432345840@qq.com"</span>);</span><br><span class="line">        Collection&lt;VendorExtension&gt; vendorExtensions = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfo(</span><br><span class="line">                <span class="string">"汉杰杰的 API 文档"</span>,</span><br><span class="line">                <span class="string">"学习 Swagger 的使用"</span>,</span><br><span class="line">                <span class="string">"v2.33"</span>,</span><br><span class="line">                <span class="string">"https://hanjjie.github.io/"</span>,</span><br><span class="line">                contact, <span class="string">"Apache 2.0"</span>,</span><br><span class="line">                <span class="string">"http://www.apache.org/licenses/LICENSE-2.0"</span>,</span><br><span class="line">                vendorExtensions</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​        修改完成后查看</p>
<p><img src="/images/swagger/image-20200614163032622.png" alt="image-20200614163032622"></p>
<h3 id="2-配置接口扫描规则"><a href="#2-配置接口扫描规则" class="headerlink" title="2. 配置接口扫描规则"></a>2. 配置接口扫描规则</h3><h4 id="①-RequestHandlerSelectors-类"><a href="#①-RequestHandlerSelectors-类" class="headerlink" title="① RequestHandlerSelectors 类"></a>① RequestHandlerSelectors 类</h4><p>​        请求处理程序选择器，配置 <strong>请求处理器</strong> 的匹配规则</p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">any()</td>
<td align="left">任何请求处理器都满足条件</td>
</tr>
<tr>
<td align="left">none()</td>
<td align="left">任何请求处理器都不满足条件</td>
</tr>
<tr>
<td align="left">basePackage()</td>
<td align="left">匹配指定包下的请求处理器，例如：com.hanjj.swagger</td>
</tr>
<tr>
<td align="left">withMethodAnnotation(final Class&lt;? extends Annotation&gt; annotation)</td>
<td align="left">匹配带有指定注解的请求处理方法，例如：@GetMapping.class</td>
</tr>
<tr>
<td align="left">withClassAnnotation(final Class&lt;? extends Annotation&gt; annotation)</td>
<td align="left">匹配带有指定注解的请求处理类，例如：@RestController.class</td>
</tr>
</tbody></table>
<h4 id="②-PathSelectors-类"><a href="#②-PathSelectors-类" class="headerlink" title="② PathSelectors 类"></a>② PathSelectors 类</h4><p>​        路径选择器，配置 <strong>请求路径</strong> 的过滤规则</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>any()</td>
<td>任何路径都满足条件</td>
</tr>
<tr>
<td>none()</td>
<td>任何路径都不满足条件</td>
</tr>
<tr>
<td>regex(final String pathRegex)</td>
<td>匹配满足正则表达式的路径，例如：[1-9]\d*</td>
</tr>
<tr>
<td>ant(final String antPattern)</td>
<td>匹配指定路径，例如：/api/**</td>
</tr>
</tbody></table>
<h4 id="③-配置完成查看"><a href="#③-配置完成查看" class="headerlink" title="③ 配置完成查看"></a>③ 配置完成查看</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Swagger 配置类</span></span><br><span class="line"><span class="comment"> * 使用 <span class="doctag">@EnableSwagger</span>2 启动 Swagger</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">(Environment environment)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">"com.hanjj.swagger"</span>))</span><br><span class="line">                .apis(RequestHandlerSelectors.withMethodAnnotation(RequestMapping<span class="class">.<span class="keyword">class</span>))</span></span><br><span class="line"><span class="class">                .<span class="title">apis</span>(<span class="title">RequestHandlerSelectors</span>.<span class="title">withClassAnnotation</span>(<span class="title">RestController</span>.<span class="title">class</span>))</span></span><br><span class="line">                .paths(PathSelectors.ant("/api/**"))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 标题、版本号、作者信息等</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/swagger/image-20200614235242381.png" alt="image-20200614235242381"></p>
<h3 id="3-配置是否启动-Swagger"><a href="#3-配置是否启动-Swagger" class="headerlink" title="3. 配置是否启动 Swagger"></a>3. 配置是否启动 Swagger</h3><h4 id="①-配置类"><a href="#①-配置类" class="headerlink" title="① 配置类"></a>① 配置类</h4><p>​        首先，使用 <code>environment.acceptsProfiles(Profiles.of(&quot;dev&quot;, &quot;test&quot;))</code> 方法，返回运行环境是否为 <code>dev</code> 或 <code>test</code>。然后，使用 <code>Docket</code> 类的 <code>enable</code> 方法控制是否启动 <strong>Swagger</strong> 即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Swagger 配置类</span></span><br><span class="line"><span class="comment"> * 使用 <span class="doctag">@EnableSwagger</span>2 启动 Swagger</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;swagger.description&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">(Environment environment)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        配置是否启动 Swagger，如果是 dev 或者 test 环境则启动</span></span><br><span class="line">        Profiles profiles = Profiles.of(<span class="string">"dev"</span>, <span class="string">"test"</span>);</span><br><span class="line">        <span class="keyword">boolean</span> flag = environment.acceptsProfiles(profiles);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .enable(flag)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">"com.hanjj.swagger"</span>))</span><br><span class="line">                .apis(RequestHandlerSelectors.withMethodAnnotation(RequestMapping<span class="class">.<span class="keyword">class</span>))</span></span><br><span class="line"><span class="class">                .<span class="title">apis</span>(<span class="title">RequestHandlerSelectors</span>.<span class="title">withClassAnnotation</span>(<span class="title">RestController</span>.<span class="title">class</span>))</span></span><br><span class="line">                .paths(PathSelectors.ant("/api/**"))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 标题、版本号、作者信息等</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="②-切换环境测试"><a href="#②-切换环境测试" class="headerlink" title="② 切换环境测试"></a>② 切换环境测试</h4><h5 id="Ⅰ-开发环境"><a href="#Ⅰ-开发环境" class="headerlink" title="Ⅰ. 开发环境"></a>Ⅰ. 开发环境</h5><p><img src="/images/swagger/image-20200615000128172.png" alt="image-20200615000128172"></p>
<h5 id="Ⅱ-测试环境"><a href="#Ⅱ-测试环境" class="headerlink" title="Ⅱ. 测试环境"></a>Ⅱ. 测试环境</h5><p><img src="/images/swagger/image-20200615000308767.png" alt="image-20200615000308767"></p>
<h5 id="Ⅲ-生产环境"><a href="#Ⅲ-生产环境" class="headerlink" title="Ⅲ. 生产环境"></a>Ⅲ. 生产环境</h5><p><img src="/images/swagger/image-20200615000359216.png" alt="image-20200615000359216"></p>
<h3 id="4-配置分组"><a href="#4-配置分组" class="headerlink" title="4. 配置分组"></a>4. 配置分组</h3><h4 id="①-修改分组名称"><a href="#①-修改分组名称" class="headerlink" title="① 修改分组名称"></a>① 修改分组名称</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在容器中注入一个 Docket 对象，在实例化的时候使用 .groupName() 方法配置分钟名称即可</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"黄汉杰"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/swagger/image-20200616204031151.png" alt="image-20200616204031151"></p>
<h4 id="②-配置多个分组"><a href="#②-配置多个分组" class="headerlink" title="② 配置多个分组"></a>② 配置多个分组</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  	<span class="comment">// 在容器中注入多个 Docket 对象即可，可以使用之前学习的配置针对接口进行分类</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup1</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup1"</span>); &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup2</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup2"</span>); &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup3</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup3"</span>); &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup4</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup4"</span>); &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup5</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup5"</span>); &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">  	<span class="function"><span class="keyword">public</span> Docket <span class="title">docketGroup6</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"docketGroup6"</span>); &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/swagger/image-20200617111315763.png" alt="image-20200617111315763"></p>
<h4 id="③-使用注解分组"><a href="#③-使用注解分组" class="headerlink" title="③ 使用注解分组"></a>③ 使用注解分组</h4><h5 id="Ⅰ-定义-ApiGroup-注解"><a href="#Ⅰ-定义-ApiGroup-注解" class="headerlink" title="Ⅰ. 定义 @ApiGroup 注解"></a>Ⅰ. 定义 @ApiGroup 注解</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ApiGroup &#123;</span><br><span class="line">    String[] group();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ⅱ-定义分组常量"><a href="#Ⅱ-定义分组常量" class="headerlink" title="Ⅱ. 定义分组常量"></a>Ⅱ. 定义分组常量</h5><p>​        定义了 <strong>手机</strong> 和 <strong>笔记本</strong> 两个分组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.constant;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ApiGroupConstant</span> </span>&#123;</span><br><span class="line">    String PHONE = <span class="string">"Phone"</span>;</span><br><span class="line">    String LAPTOP = <span class="string">"Laptop"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ⅲ-使用-ApiGroup-注解"><a href="#Ⅲ-使用-ApiGroup-注解" class="headerlink" title="Ⅲ. 使用 @ApiGroup 注解"></a>Ⅲ. 使用 @ApiGroup 注解</h5><p>​        在控制类 <code>LaptopController</code> 和 <code>PhoneController</code> 上使用 <code>@ApiGroup</code> 注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiGroup</span>(group = &#123;ApiGroupConstant.LAPTOP&#125;)</span><br><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"笔记本相关接口"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LaptopController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"获取所有笔记本信息"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/laptop"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Laptop&gt; <span class="title">laptop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiGroup</span>(group = &#123;ApiGroupConstant.PHONE&#125;)</span><br><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"手机相关接口"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneController</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ⅳ-配置分组"><a href="#Ⅳ-配置分组" class="headerlink" title="Ⅳ. 配置分组"></a>Ⅳ. 配置分组</h5><p>​        在配置文件中添加分组，使用 <code>.apis()</code> 方法时传入一个继承 <code>Predicate</code> 接口的子类，子类中对控制类进行分组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Swagger 配置类</span></span><br><span class="line"><span class="comment"> * 使用 <span class="doctag">@EnableSwagger</span>2 启动 Swagger</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">laptop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"笔记本电脑"</span>)</span><br><span class="line">                .select()</span><br><span class="line">                .apis(<span class="keyword">new</span> Predicate&lt;RequestHandler&gt;() &#123;</span><br><span class="line">                          <span class="meta">@Override</span></span><br><span class="line">                          <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">apply</span><span class="params">(RequestHandler requestHandler)</span> </span>&#123;</span><br><span class="line">                              Optional&lt;ApiGroup&gt; controllerAnnotation =</span><br><span class="line">                                      requestHandler.findControllerAnnotation(ApiGroup<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">                              <span class="keyword">return</span> controllerAnnotation.isPresent() &amp;&amp;</span><br><span class="line">                                      Arrays.asList(controllerAnnotation.get().group())</span><br><span class="line">                                              .contains(ApiGroupConstant.LAPTOP);</span><br><span class="line">                          &#125;</span><br><span class="line">                      &#125;</span><br><span class="line">                ).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">phone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="string">"手机"</span>)</span><br><span class="line">                .select()</span><br><span class="line">                .apis(<span class="keyword">new</span> Predicate&lt;RequestHandler&gt;() &#123;</span><br><span class="line">                          <span class="meta">@Override</span></span><br><span class="line">                          <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">apply</span><span class="params">(RequestHandler requestHandler)</span> </span>&#123;</span><br><span class="line">                              Optional&lt;ApiGroup&gt; controllerAnnotation =</span><br><span class="line">                                      requestHandler.findControllerAnnotation(ApiGroup<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">                              <span class="keyword">return</span> controllerAnnotation.isPresent() &amp;&amp; Arrays.asList(</span><br><span class="line">                                      controllerAnnotation.get().group())</span><br><span class="line">                                      .contains(ApiGroupConstant.PHONE);</span><br><span class="line">                          &#125;</span><br><span class="line">                      &#125;</span><br><span class="line">                ).build();</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Ⅴ-效果"><a href="#Ⅴ-效果" class="headerlink" title="Ⅴ.  效果"></a>Ⅴ.  效果</h5><p><img src="/images/swagger/image-20200617142957328.png" alt="image-20200617142957328"></p>
<p><img src="/images/swagger/image-20200617143011121.png" alt="image-20200617143011121"></p>
<h2 id="三、常用注解"><a href="#三、常用注解" class="headerlink" title="三、常用注解"></a>三、常用注解</h2><h3 id="1-控制类和接口"><a href="#1-控制类和接口" class="headerlink" title="1. 控制类和接口"></a>1. 控制类和接口</h3><p>​        <code>@Api</code> 和 <code>@ApiOperation</code> 分别使用在控制类和请求处理方法中，<code>@ApiParam</code> 使用在请求处理方法的参数中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanjj.swagger.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"手机相关接口"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"获取所有手机信息"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Phone&gt; <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"根据 ID 获取手机信息"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/phone/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">get</span><span class="params">(@PathVariable(name = <span class="string">"id"</span>)</span> Integer id) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"添加手机"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">create</span><span class="params">(@ApiParam(<span class="string">"使用手机实体类添加手机"</span>)</span> @RequestBody Phone phone) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"根据 ID 删除手机"</span>)</span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/phone/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">delete</span><span class="params">(@PathVariable(name = <span class="string">"id"</span>)</span> Integer id) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"根据 ID 修改手机信息"</span>)</span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/phone"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(@RequestBody Phone phone)</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​        控制类和接口展示</p>
<p><img src="/images/swagger/image-20200617105505378.png" alt="image-20200617105505378"></p>
<p>​        接口参数展示</p>
<p><img src="/images/swagger/image-20200617105955223.png" alt="image-20200617105955223"></p>
<h3 id="2-实体类和属性"><a href="#2-实体类和属性" class="headerlink" title="2. 实体类和属性"></a>2. 实体类和属性</h3><p>​        <code>@ApiModel</code> 和 <code>@ApiModelProperty</code> 使用在实体类和属性中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@ApiModel</span>(description = <span class="string">"手机实体类"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(<span class="string">"主键"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(<span class="string">"名称"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(<span class="string">"价格"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​        实体类展示</p>
<p><img src="/images/swagger/image-20200617110837807.png" alt="image-20200617110837807"></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-06-17</span><i class="fa fa-tag"></i><a class="tag" href="/categories/接口文档/" title="接口文档">接口文档 </a><a class="tag" href="/tags/Swagger/" title="Swagger">Swagger </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2020/06/17/swagger/,汉杰杰呢,Swagger 学习,;" target="_blank" rel="noopener"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/04/18/install%20docker%20in%20centos7/" title="在 CentOS7 中安装 Docker">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>